!function(e){"use strict";function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t(e){return e.replace(/"/g,"&quot;")}function n(e){if(!e)return"";var r=[];for(var n in e){var i=(e[n]+"").replace(/"/g,"&quot;");r.push(""+n+'="'+t(i)+'"')}return r.join(" ")}function i(e){var i=void 0===arguments[1]?{}:arguments[1];i=a.normalize(i);for(var l=o(e),s=[],u=0;u<l.length;u++){var p=l[u];if(p.isLink){var f=p.toHref(i.defaultProtocol),g=a.resolve(i.format,p.toString(),p.type),v=a.resolve(i.formatHref,f,p.type),c=a.resolve(i.attributes,f,p.type),y=a.resolve(i.tagName,f,p.type),k=a.resolve(i.linkClass,f,p.type),m=a.resolve(i.target,f,p.type),h="<"+y+' href="'+t(v)+'" class="'+t(k)+'"';m&&(h+=' target="'+t(m)+'"'),c&&(h+=" "+n(c)),h+=">"+r(g)+"</"+y+">",s.push(h)}else s.push("nl"===p.type&&i.nl2br?i.newLine?i.newLine:"<br>\n":r(p.toString()))}return s.join("")}var o=e.tokenize,a=e.options;String.prototype.linkify||(String.prototype.linkify=function(e){return i(this,e)}),window.linkifyStr=i}(window.linkify);